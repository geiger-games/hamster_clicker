<!DOCTYPE html>
<html>
    <head>
        <style>
            body {
                text-align: center;
                font-family: sans-serif;
                background-color: #fef9ef;
            }

            button {
                background-color: #0000ff;
                color: white;
                border: 4px solid #666666;
                border-radius: 8px;
                font-size: 16px;
                padding: 10px 20px;
                margin: 10px 10px;
                cursor: pointer;
            }
            button:hover {
                background-color: #7777ff;
                color: #aaaaaa;
            }
            button:active {
                background-color: #aaaaff;
                color: #666666;
                transform: scale(0.9);
            }
        </style>
        <title>Hamster Clicker</title>
    </head>

    <body>
        <h1>üêπ Hamster Clicker</h1>
        <h3 id="hamsters"></h3>
        <h4 id="hpc"></h4>
        <button onclick="handleClick()">
            <img id="hamsterImg" src="basic_hamster.png" alt="Hamster" style="width: 256px; height: 256px;">
        </button><br>
        <label for="textureSelect">Choose your hamster:</label>
        <select id="textureSelect" onchange="changeSkin(this.value)">
            <option value="basic_hamster.png">Normal</option>
            <option value="cheese_hamster.png" id="cheeseTexture" disabled>Cheese (locked)</option>
            <option value="fancy_hamster.png" id="fancyTexture" disabled>Fancy (locked)</option>
        </select><br>
        <button onclick="handleHamstersPerClick(1, 0)" class="hpcBuy">buy +1 hamsters per click: 0$</button>
        <button onclick="handleHamstersPerClick(10, 1)" class="hpcBuy">buy +10 hamsters per click: 0$</button>
        <button onclick="handleHamstersPerClick(100, 2)" class="hpcBuy">buy +100 hamsters per click: 0$</button><br>
        <button onclick="handleHamstersPerClick(1_000, 3)" class="hpcBuy">buy +1k hamsters per click: 0$</button>
        <button onclick="handleHamstersPerClick(10_000, 4)" class="hpcBuy">buy +10k hamsters per click: 0$</button>
        <button onclick="handleHamstersPerClick(100_000, 5)" class="hpcBuy">buy +100k hamsters per click: 0$</button><br>

        <script>
            const hamstersEl = document.getElementById("hamsters")
            const hpcEl = document.getElementById("hpc")

            const buttons = document.getElementsByClassName("hpcBuy")
            const basePrices = [10, 100, 1_000, 10_000, 100_000, 1_000_000]

            var hamsters = 0
            var hpc = 1
            var multipliers = [1, 1, 1, 1, 1, 1]

            function changeSkin(filename) {
                const hamsterImg = document.getElementById("hamsterImg");
                hamsterImg.src = filename;
            }

            function unlock_texture(cost, id) {
                if (hamsters >= cost) {
                    const optionEl = document.getElementById(id)
                    optionEl.disabled = false
                    optionEl.innerHTML = optionEl.innerHTML.replace(" (locked)", "")
                }
            }

            function update() {
                hamstersEl.innerHTML = hamsters === 1 ? "1 hamster" : `${hamsters} hamsters`
                hpcEl.innerHTML = hpc === 1 ? "1 hamster per click" : `${hpc} hamsters per click`

                for (let i = 0; i < buttons.length; i++) {
                    const price = Math.floor(basePrices[i] * multipliers[i])
                    buttons[i].innerHTML = buttons[i].innerHTML.replace(/\d+(\.\d+)?\w?\$/, `${price}$`)
                }

                unlock_texture(500, "cheeseTexture")
                unlock_texture(1_000, "fancyTexture")
            }

            function handleClick() {
                hamsters += hpc;
                update()
            }

            function handleHamstersPerClick(increment, index) {
                const cost = Math.floor(basePrices[index] * multipliers[index])
                if (hamsters >= cost) {
                    hpc += increment
                    hamsters -= cost
                    multipliers[index] *= 1.2
                    update()
                } else {
                    alert("Not enough hamsters!")
                }
            }

            update()
        </script>
    </body>
</html>